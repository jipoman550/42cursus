# so_long

## 📌 프로젝트 목적

> **MiniLibX** 라이브러리를 활용하여 간단한 2D 게임을 구현하는 C 프로그램. 창 관리, 키보드 이벤트, 그래픽 요소(텍스처, 스프라이트)를 다루는 기술을 습득하고, C 언어 실력과 문제 해결 능력을 향상시키는 것이 목표.

-----

## 🧠 과제 개요

  - **프로그램 이름**: `so_long`
  - **제출 파일**: `Makefile`, `*.h`, `*.c`, `maps/`, `textures/`
  - **실행 인자**: `.ber`
  - **허용 외부 함수**: `open`, `close`, `read`, `write`, `malloc`, `free`, `perror`, `strerror`, `exit`, 수학 라이브러리(`-lm`), MiniLibX의 모든 함수, `ft_printf` 또는 직접 구현한 동등 함수
  - **Libft 사용**: 가능

**게임 시나리오**:
플레이어는 W, A, S, D 키로 이동하며 맵에 있는 모든 **수집품(C)**을 모은 후, **출구(E)**로 탈출해야 합니다.

-----

## 🚀 구현 계획 및 진행 상황

### 1단계: 맵 파싱 및 유효성 검사

  - [x] `.ber` 파일 확장자 확인
  - [x] 맵이 직사각형인지 확인
  - [x] 맵이 벽('1')으로 둘러싸여 있는지 확인
  - [x] 맵에 '0', '1', 'C', 'E', 'P' 외의 문자가 포함되어 있지 않은지 확인
  - [x] 맵에 1개의 'E', 1개의 'P', 1개 이상의 'C'가 있는지 확인
  - [x] 플레이어 위치에서 모든 수집품과 출구로 가는 유효한 경로가 있는지 확인
  - [x] 유효성 검사 실패 시 "Error\n"와 함께 명시적인 에러 메시지 출력 후 종료

### 2단계: 그래픽 및 이벤트 관리

  - [ ] MiniLibX를 사용하여 창을 생성하고 이미지를 표시
  - [ ] 맵의 각 문자에 해당하는 스프라이트(벽, 빈 공간, 수집품, 출구, 플레이어) 로드 및 출력
  - [ ] W, A, S, D 키보드 이벤트 처리
  - [ ] ESC 키를 누르거나 창 닫기 버튼을 클릭했을 때 프로그램 정상 종료
  - [ ] 창 전환 및 최소화 시 정상 동작 유지

### 3단계: 게임 로직 구현

  - [ ] 플레이어 이동 로직 구현 (벽 통과 불가)
  - [ ] 이동할 때마다 이동 횟수를 셸(터미널)에 출력
  - [ ] 플레이어가 수집품(C)에 닿으면 해당 수집품 제거
  - [ ] 모든 수집품을 모은 후 출구(E)로 탈출 가능하도록 로직 구현

### 4단계: 보너스 기능 구현 (선택 사항)

  - [ ] 적(Enemy) 추가 및 충돌 시 게임 종료
  - [ ] 스프라이트 애니메이션 추가
  - [ ] 이동 횟수를 터미널 대신 화면에 표시

-----

## 🛠️ 디버깅 및 문제 해결 히스토리

이 섹션은 개발 과정에서 발생한 주요 버그와 그 해결 과정을 기록합니다.

  - **[날짜] - [문제 요약]**
      - **증상**: (발생 시 기록)
      - **원인 분석**: (발생 시 기록)
      - **해결 방안**: (발생 시 기록)
      - **배운 점**: (발생 시 기록)

-----

## 📂 디렉토리 구조

```
so_long/
│
├── Makefile
├── README.md
├── includes/
│   └── so_long.h
├── src/
│   ├── main.c
│   ├── map_parser.c
│   ├── game_logic.c
│   └── ...
├── maps/
│   └── map1.ber
└── textures/
    ├── wall.xpm
    ├── player.xpm
    └── ...
```

-----

## 빌드방법, 컴파일 명령어, 테스트 명령어

#### **1. 프로젝트 빌드**

프로젝트 루트 디렉터리에서 `make` 명령어를 사용하여 `so_long` 실행 파일을 빌드합니다.

```bash
make
```

#### **2. 프로그램 실행**

유효한 `.ber` 맵 파일을 인자로 전달하여 프로그램을 실행합니다.

```bash
./so_long maps/map1.ber
```

#### **3. 보너스 빌드**

보너스 기능을 구현했다면 `make bonus` 명령어로 보너스 버전을 빌드할 수 있습니다.

```bash
make bonus
./so_long_bonus maps/map1.ber
```

#### **4. 메모리 누수 검사**

`valgrind`를 사용하여 프로그램 실행 중 메모리 누수가 없는지 확인합니다.

```bash
valgrind --leak-check=full ./so_long maps/map1.ber
```

#### **5. Norm 규정 확인**

`norminette`를 사용하여 모든 `.c` 및 `.h` 파일이 42 Norm을 준수하는지 확인합니다.

```bash
norminette src includes
```

-----

## ✅ 최종 제출 점검표

  - [ ] **프로그램 동작**:

      - [ ] 유효하지 않은 맵 파일에 대해 "Error\\n"와 함께 오류 메시지 출력 후 종료
      - [ ] ESC 키 또는 창 닫기 버튼으로 정상 종료
      - [ ] 모든 수집품을 모은 후 탈출 가능
      - [ ] 매 이동마다 터미널에 이동 횟수 출력

  - [ ] **코드 품질 및 규정**:

      - [ ] 모든 `.c`, `.h` 파일이 Norm 규정을 완벽히 준수하는지(`norminette` 통과)
      - [ ] `valgrind` 검사를 통해 메모리 누수가 전혀 없는지 확인
      - [ ] [cite\_start]Segfault, Bus error 등 예기치 않은 프로그램 종료 없음
      - [ ] 허용되지 않은 외부 함수 사용 여부 재확인

  - [ ] **Makefile**:

      - [ ] `$(NAME)`, `all`, `clean`, `fclean`, `re` 규칙 모두 정상 작동
      - [ ] 불필요한 재링크 발생 안 함
      - [ ] (보너스 구현 시) `bonus` 규칙 정상 작동

-----

## 📝 메모

  - [ ] 텍스처 및 스프라이트는 무료 리소스를 사용하거나 직접 제작
  - [ ] 보너스는 필수 과제가 완벽하게 구현된 경우에만 평가됨

-----
